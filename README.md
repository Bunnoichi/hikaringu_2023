# hikaringu_2023

## 概要

## 設計方針
設計の大方針は**ストレスレスでエコな記録システム**。その方針実現のため、以下を掲げてコードを組んだ。

* 画面遷移なし
* 再利用可能情報は1度だけ
* 画面タップも最小に
* 記録ミス0
* 個人情報保護
* みやすいサイト
* こころの余裕

### 画面遷移なし
伝言板投稿ページを除き、画面遷移は一切しない設計とした。

登録ボタン押下時、記録配列を送信してから入力内容をクリアするようJavaScriptに記述し、無駄な画面遷移やリロードはさせない設計とした。「サイトの使い方」も下部に配置し、スクロール量も極力抑える設計。

### 再利用可能情報は1度だけ
記録者氏名、販売場所については登録の都度でクリアしない。

### 画面タップは最小に
記録者氏名、特記事項入力欄以外は各種ボタンでの入力にし、1回記録当りのタップ回数を可能な限り低減させた。12月寒いしね。

### 記録ミス0
ラジオボタンを多用することで入力内容の冗長性を低減させ、不備があれば怒られる仕様にした。

### 個人情報保護
サイト内にはいくらか個人名が記載されているが、これらはHTMLに記載されている内容ではなく、ソースコードから個人情報は見れない仕様となっている。

個人名を含む個人情報については、Google Spreadsheet内に記載した情報を`code.gs`の`doGet()`実行時に対象セルから情報を取得し、`index.html`とともにreturnし、強制出力スクリプトレットを用いて表示する仕様にした。これにより、個人情報についてはいつでも掲載・非掲載の選択ができる他、流出の危険性も低下している。

なお、この「Spreadsheet → `doGet()` → HTML → ユーザ」のフローは、伝言板や配布本数状況の表示部分でも利用している。

### みやすいサイト
配色は緑青基調のやさしめにし、文章中の文字色もグレーにした。

### こころの余裕
堅苦しくしても良いけど、そもそも来場者に笑顔になってもらう事業だから、記録者にもちょっとは心の余裕（心理的冗長性）を持たせたい。一助になればと、特記事項入力欄を設けた。感想から愚痴までなんでもok。プレースホルダーは「愛のポエム書いて」とした。


伝言板も、連絡を伝える機能の他、心理的冗長性という観点も踏まえて実装した。いわば、「余白」「無駄」の部分。文化の根（？）。

## GitHub
なんやかんや初めてGitHubを使う。手探りでやってみる。

コードも相当ごっちゃなので、Web得意な方はフォークしたりなんなりで作り直してみてください。

## 開発日記
久々にコード書いてたら楽しくなってきちゃいまして、調子に乗り時間を忘れて色々書いてました。

日記っぽいのはワシのはてブロ#68と#69で喋ってるはずです。暇なら読んでみてください。